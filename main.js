(()=>{"use strict";class e{constructor(){window.addEventListener("resize",this.recalculatingSizes)}renderPopover(e){const t=document.createElement("div");t.classList.add("popover");const o=document.createElement("h2");o.classList.add("popover-title"),o.textContent="Popover title";const r=document.createElement("p");r.classList.add("popover-text"),r.textContent="And here`s some amazing content. It`s very engaging. Right?",document.body.appendChild(t),t.appendChild(o),t.appendChild(r);const s=e.target,{top:n,right:i,width:d}=s.getBoundingClientRect();t.style.width=d+70+"px",t.style.top=n-t.offsetHeight-10+"px",t.style.right=i-t.offsetWidth/2-s.offsetWidth/2+"px";const p=this.renderArrow(t);return t.appendChild(p),t}recalculatingSizes(){const e=document.querySelector(".popover"),t=document.querySelector(".button"),{top:o,right:r,width:s}=t.getBoundingClientRect();e&&(e.style.width=s+70+"px",e.style.top=o-e.offsetHeight-10+"px",e.style.right=r-e.offsetWidth/2-t.offsetWidth/2+"px")}renderArrow(e){const t=document.createElement("div");return t.classList.add("arrow"),t.style.left=e.offsetWidth/2-10+"px",t}removePopover(){const e=document.querySelector(".popover");e&&e.remove()}}(new class{constructor(){this.popover=new e,this.hasPopover=!1,this.showPopover=this.showPopover.bind(this)}renderWidget(){const e=document.createElement("a");e.classList.add("button"),e.textContent="Click to toggle popover",document.body.appendChild(e),e.addEventListener("click",this.showPopover)}showPopover(e){!1===this.hasPopover?(this.popover.renderPopover(e),this.hasPopover=!0):(this.popover.removePopover(),this.hasPopover=!1)}}).renderWidget()})();